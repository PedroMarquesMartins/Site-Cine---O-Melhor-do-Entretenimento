<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login/Cadastro</title>
    <link rel="stylesheet" type="text/css" href="cssLoginCadastro.css">
</head>

<body>

    <form action="" class="formClass">
        LOGIN
        <br>
        <br>
        <label for="" class="usuarioClass">Usuário:</label>
        <input type="text" placeholder="Informe o usuário" class="usuarioInput">
        <br>
        <label for="" class="senhaClass">Senha:</label>
        <input type="password" placeholder="Informe a senha" class="senhaInput">
        <br><br>
        <button id="btnLogar" onclick="logar()">Login</button>


        <script>
            document.getElementById("btnLogar").addEventListener("click", (e) => {
                e.preventDefault();
                logar();
            });

            function logar() {
                const localStorageUsuario = localStorage.getItem('usuario');
                const localStorageSenha = localStorage.getItem('senha')

                const usuarioDigitado = document.querySelector(".usuarioInput").value;
                const senhaDigitada = document.querySelector(".senhaInput").value;

                let cadastro = JSON.parse(localStorage.getItem("cadastro")) || [];

                let usuarioValido = cadastro.find(user => user.usuario === usuarioDigitado && user.senha === senhaDigitada);

                if (usuarioValido) {
                    Swal.fire({
                        title: "Sucesso!",
                        text: "Você está logado no sistema.",
                        icon: "success"
                    });
                    setTimeout(() => {
                        window.location.href = "html.html";
                    }, 1000);

                } else {
                    Swal.fire({
                        title: "Dados incorretos",
                        text: "Os dados não batem.",
                        icon: "error"
                    });
                }
            }
        </script>

        <a href="">

        </a>
    </form>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</body>

</html>